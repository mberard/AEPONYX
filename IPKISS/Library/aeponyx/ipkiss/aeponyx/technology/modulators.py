############################################################################################
# Modulators
#
# This file contains default settings for modulator devices
# These TECH keys are required for using picazzo3 modulators
############################################################################################

from ipkiss.technology import get_technology
from ipkiss.technology.technology import TechnologyTree, DelayedInitTechnologyTree

TECH = get_technology()

TECH.MODULATORS = TechnologyTree()
TECH.MODULATORS.PHASESHIFTER = TechnologyTree()

# Defaults common to LAT and LONG PN junctions
# Please check the documentation (Picazzo Library Reference / Modulators / Phase Modulators / LateralPNPhaseShifterTemplate and LongitudinalPNPhaseShifterTemplate)
# for the meaning of these values (the doc contains pictures + annotations for each value).
TECH.MODULATORS.PHASESHIFTER.PN = TechnologyTree()
TECH.MODULATORS.PHASESHIFTER.PN.P_WIDTH = 2.0
TECH.MODULATORS.PHASESHIFTER.PN.PPLUS_OFFSET = 3.0
TECH.MODULATORS.PHASESHIFTER.PN.PPLUS_WIDTH = 2.0
TECH.MODULATORS.PHASESHIFTER.PN.PPLUS_EXTENSION = 0.25
TECH.MODULATORS.PHASESHIFTER.PN.N_WIDTH = 2.0
TECH.MODULATORS.PHASESHIFTER.PN.NPLUS_OFFSET = 3.0
TECH.MODULATORS.PHASESHIFTER.PN.NPLUS_WIDTH = 2.0
TECH.MODULATORS.PHASESHIFTER.PN.NPLUS_EXTENSION = 0.25
TECH.MODULATORS.PHASESHIFTER.PN.P_SIL_OFFSET = 3.2
TECH.MODULATORS.PHASESHIFTER.PN.P_SIL_WIDTH = 1.6
TECH.MODULATORS.PHASESHIFTER.PN.P_SIL_EXTENSION = 0.2
TECH.MODULATORS.PHASESHIFTER.PN.N_SIL_OFFSET = 3.2
TECH.MODULATORS.PHASESHIFTER.PN.N_SIL_WIDTH = 1.6
TECH.MODULATORS.PHASESHIFTER.PN.N_SIL_EXTENSION = 0.2
TECH.MODULATORS.PHASESHIFTER.PN.P_CONT_PITCH = 0.6
TECH.MODULATORS.PHASESHIFTER.PN.P_CONT_OFFSETS = [3.6, 4.2]
TECH.MODULATORS.PHASESHIFTER.PN.N_CONT_PITCH = 0.6
TECH.MODULATORS.PHASESHIFTER.PN.N_CONT_OFFSETS = [3.6, 4.2]
TECH.MODULATORS.PHASESHIFTER.PN.P_METAL1_OFFSET = 3.2
TECH.MODULATORS.PHASESHIFTER.PN.P_METAL1_WIDTH = 2.0
TECH.MODULATORS.PHASESHIFTER.PN.N_METAL1_OFFSET = 3.2
TECH.MODULATORS.PHASESHIFTER.PN.N_METAL1_WIDTH = 2.0
TECH.MODULATORS.PHASESHIFTER.PN.JUNCTION_OVERLAP = 0.0

# Lateral PN
TECH.MODULATORS.PHASESHIFTER.LATPN = TechnologyTree()
TECH.MODULATORS.PHASESHIFTER.LATPN.JUNCTION_OFFSET = 0.0
TECH.MODULATORS.PHASESHIFTER.LATPN.BRIDGE_WIDTH = 0.3
TECH.MODULATORS.PHASESHIFTER.LATPN.BRIDGE_PITCH = 1.0

# Longitudinal PN
TECH.MODULATORS.PHASESHIFTER.LONGPN = TechnologyTree()
TECH.MODULATORS.PHASESHIFTER.LONGPN.P_LENGTH = 0.3
TECH.MODULATORS.PHASESHIFTER.LONGPN.N_LENGTH = 0.3
TECH.MODULATORS.PHASESHIFTER.LONGPN.P_WIDTH = 3.2
TECH.MODULATORS.PHASESHIFTER.LONGPN.N_WIDTH = 3.2
